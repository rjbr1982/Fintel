# 🧠 קונטקסט פרויקט (Project Context)

## 🎯 מטרת העל ("דוחכם")
אפליקציה חכמה לניהול תקציב משפחתי הכוללת קבועות, משתנות ועתידיות, מנוע לתכנון חירות פיננסית, ייצוא נתונים ישיר ל-AI, וניהול חסכונות שוטפים.

## ⚙️ חוקים, הגדרות ומאפייני ליבה:
- **אחוזי משתנות (ברירת מחדל):** בגדים אבא 19%, בילויים אבא 14%, בגדים אמא 9%, בילויים אמא 19%, טיפוח אמא 15%, בגדים ילדים 12%, בילויים ילדים 12%. מנגנון זיהוי טקסט אגרסיבי מגן עליהם מאיפוס ל-10%.
- **עוגנים במשתנות:** "קניות" מוגדר כעוגן. הוא לא מקבל אחוזים, אלא סכום קבוע שמנוכה מראש מסך התקציב המשתנה.
- **קופות מאוחדות (Unified Sinking Funds):** קטגוריות כמו "רכב", "חגים", אבא, אמא, וילדים. מציגות יתרה משותפת אחת והפרשה חודשית מאוחדת. הוצאות שוטפות כמו "דלק" אינן נספרות כצוברות.
- **מרכז חסכונות:** דאשבורד נגיש מכל מסך דרך ה-AppBar (אייקון כספת) המציג את סך ההפרשות הכולל ואת ההון הכולל שנצבר.
- **Optimistic UI:** פעולות מול המסד (כמו שינוי יעד הכנסה פסיבית או מחיקתו) מעדכנות קודם את ה-Provider (הסטייט המקומי) ורק אז נשלחות ל-Firebase כדי לספק חווית משתמש ללא Latency.

## 🏗️ סטייט וארכיטקטורה:
- UI מבוסס Flutter (תמיכה מלאה ב-Web).
- מסד נתונים ואותנטיקציה: Firebase (Firestore, Auth).
- State Management: חבילת `provider`, מתבסס ברובו על `BudgetProvider`.